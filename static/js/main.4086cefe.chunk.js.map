{"version":3,"sources":["components/Reader/Controls/Controls.js","components/Reader/Publication/Publication.js","components/Reader/Counter/Counter.js","components/Reader/Reader.js","App.js","index.js"],"names":["Controls","decrementBut","incrementBut","index","length","className","s","controls","onClick","type","disabled","Publication","publications","publication","title","text","Counter","countNumbs","counter","Reader","props","history","push","pathname","location","search","getItem","items","paramsString","item","URLSearchParams","get","this","console","log","queryString","replace","isNextDisabled","isPrevDisabled","reader","Component","App","path","exact","render","routerProps","Pub","to","ReactDOM","document","getElementById"],"mappings":"60gBAgCeA,EA3BE,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,aAAcC,EAA/B,EAA+BA,MAAOC,EAAtC,EAAsCA,OAAtC,OACf,6BAASC,UAAWC,IAAEC,UACpB,4BACEC,QAASP,EACTQ,KAAK,SACLJ,UAAU,SACVK,SAAoB,IAAVP,GAJZ,kCAQA,4BACEK,QAASN,EACTO,KAAK,SACLJ,UAAU,SACVK,SAAUP,IAAUC,EAAS,GAJ/B,0CCIWO,EAdK,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAH,OAClB,6BAASP,UAAWC,IAAEO,aACpB,4BAAKD,EAAaE,OAClB,2BAAIF,EAAaG,QCANC,EAJC,SAAC,GAAD,IAAGC,EAAH,EAAGA,WAAH,OACd,uBAAGZ,UAAWC,IAAEY,SAAUD,EAA1B,QCGmBE,E,2MA2BnBjB,aAAe,WACb,EAAKkB,MAAMC,QAAQC,KAAK,CACtBC,SAAU,EAAKH,MAAMI,SAASD,SAC9BE,OAAO,QAAD,OAAU,EAAKC,UAAY,M,EAIrCzB,aAAe,WACb,EAAKmB,MAAMC,QAAQC,KAAK,CACtBC,SAAU,EAAKH,MAAMI,SAASD,SAC9BE,OAAO,QAAD,OAAU,EAAKC,UAAY,M,EAIrCA,QAAU,WAAO,IACPC,EAAU,EAAKP,MAAfO,MACFC,EAAe,EAAKR,MAAMI,SAASC,OAEnCI,GADe,IAAIC,gBAAgBF,GACdG,IAAI,QAC/B,OAAQF,GAAQA,EAAO,GAAKA,EAAOF,EAAMvB,OAAS,EAAIyB,G,mFAnCnC,IAAD,EACmBG,KAAKZ,MAAlCC,EADU,EACVA,QAASG,EADC,EACDA,SAAUG,EADT,EACSA,MAC3BM,QAAQC,IAAI,aAAcV,GAC1B,IAAMW,EAAcX,EAASC,OAIvBI,EAFe,IAAIC,gBAAgBK,GAEfJ,IAAI,UACzBF,GAAQA,EAAOF,EAAMvB,SACxBiB,EAAQe,QAAQ,CACdb,SAAUC,EAASD,SACnBE,OAAQ,a,+BA4BZ,IAAMtB,EAAQ6B,KAAKN,UAAY,EAEvBC,EAAUK,KAAKZ,MAAfO,MACFU,EAAiBlC,IAAUwB,EAAMvB,OACjCkC,EAA2B,IAAVnC,EAEvB,OACE,yBAAKE,UAAWC,IAAEiC,QAChB,kBAAC,EAAD,CAAc3B,aAAce,EAAMxB,KAClC,kBAAC,EAAD,CACEF,aAAc+B,KAAK/B,aACnBC,aAAc8B,KAAK9B,aACnBC,MAAOA,EACPC,OAAQuB,EAAMvB,OACdiC,eAAgBA,EAChBC,eAAgBA,IAElB,kBAAC,EAAD,CAASrB,WAAYd,EAAQ,S,GAnEDqC,a,eCarBC,EAfH,kBACV,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,KAAK,UACLC,OAAK,EACLC,OAAQ,SAAAC,GAAW,OAAI,kBAAC,EAAD,iBAAYA,EAAZ,CAAyBlB,MAAOmB,QAEzD,kBAAC,IAAD,CAAUC,GAAG,gBCXrBC,IAASJ,OAAO,kBAAC,EAAD,MAASK,SAASC,eAAe,U","file":"static/js/main.4086cefe.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"../../styles.css\";\n// import Reader from \"../Reader\";\n\nconst Controls = ({ decrementBut, incrementBut, index, length }) => (\n  <section className={s.controls}>\n    <button\n      onClick={decrementBut}\n      type=\"button\"\n      className=\"button\"\n      disabled={index === 0}\n    >\n      Назад\n    </button>\n    <button\n      onClick={incrementBut}\n      type=\"button\"\n      className=\"button\"\n      disabled={index === length - 1}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  decrementBut: PropTypes.func.isRequired,\n  incrementBut: PropTypes.func.isRequired,\n  index: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired\n};\nexport default Controls;\n","import React from \"react\";\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport PropTypes from \"prop-types\";\nimport s from \"../../styles.css\";\n\nconst Publication = ({ publications }) => (\n  <article className={s.publication}>\n    <h2>{publications.title}</h2>\n    <p>{publications.text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  publications: PropTypes.shape({\n    title: PropTypes.string,\n    text: PropTypes.string\n  }).isRequired\n};\n\nexport default Publication;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"../../styles.css\";\n\nconst Counter = ({ countNumbs }) => (\n  <p className={s.counter}>{countNumbs}/12</p>\n);\n\nexport default Counter;\n\nCounter.propTypes = {\n  countNumbs: PropTypes.number.isRequired\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n// import qs from \"query-string\";\nimport Controls from './Controls/Controls';\nimport Publications from './Publication/Publication';\nimport Counter from './Counter/Counter';\nimport s from '../styles.css';\n\nexport default class Reader extends Component {\n  static propTypes = {\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        text: PropTypes.string.isRequired,\n      }),\n    ),\n  };\n\n  componentDidMount() {\n    const { history, location, items } = this.props;\n    console.log('location :', location);\n    const queryString = location.search;\n    // const sp = qs.parse(queryString);\n    const searchParams = new URLSearchParams(queryString);\n\n    const item = searchParams.get('item');\n    if (!item || item > items.length) {\n      history.replace({\n        pathname: location.pathname,\n        search: 'item=1',\n      });\n    }\n  }\n\n  incrementBut = () => {\n    this.props.history.push({\n      pathname: this.props.location.pathname,\n      search: `item=${this.getItem() + 1}`,\n    });\n  };\n\n  decrementBut = () => {\n    this.props.history.push({\n      pathname: this.props.location.pathname,\n      search: `item=${this.getItem() - 1}`,\n    });\n  };\n\n  getItem = () => {\n    const { items } = this.props;\n    const paramsString = this.props.location.search;\n    const searchParams = new URLSearchParams(paramsString);\n    const item = +searchParams.get('item');\n    return !item || item < 1 || item > items.length ? 1 : item;\n  };\n\n  render() {\n    const index = this.getItem() - 1;\n\n    const { items } = this.props;\n    const isNextDisabled = index === items.length;\n    const isPrevDisabled = index === 0;\n\n    return (\n      <div className={s.reader}>\n        <Publications publications={items[index]} />\n        <Controls\n          decrementBut={this.decrementBut}\n          incrementBut={this.incrementBut}\n          index={index}\n          length={items.length}\n          isNextDisabled={isNextDisabled}\n          isPrevDisabled={isPrevDisabled}\n        />\n        <Counter countNumbs={index + 1} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Pub from \"./units/publications.json\";\nimport Reader from \"./components/Reader/Reader\";\n\nimport { HashRouter, Route, Switch, Redirect } from \"react-router-dom\";\n\nconst App = () => (\n  <>\n    <HashRouter>\n      <Switch>\n        <Route\n          path=\"/reader\"\n          exact\n          render={routerProps => <Reader {...routerProps} items={Pub} />}\n        />\n        <Redirect to=\"/reader\" />\n      </Switch>\n    </HashRouter>\n  </>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}